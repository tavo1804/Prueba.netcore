@model prjSegundoCrud.Models.Usuario
@{
    ViewData["Title"] = "Crear Usuario";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

   <script src="~/js/Usuario/script.js"></script>

<div class="contenedor">
    <hgroup>
        <h2>Crear Usuario</h2>
    </hgroup>
    <br />
    <form asp-action="Create" onsubmit="return validarcampos();">
        <div class="form-group">
            <input asp-for="Identificacion" placeholder="Ingrese la Identificacion" class="input__text" id="Identificacion" />
        </div>
        <div class="form-group">
            <input asp-for="Nombre" placeholder="Ingrese el Nombre" class="input__text" id="Nombre" />
        </div>
        <div class="form-group">
            <input asp-for="Apellido " placeholder="Ingrese el Apellido" class="input__text" id="Apellido" />
        </div>
        <div class="form-group">
            <input asp-for="Correo" placeholder="Ingrese el Email" class="input__text" id="Correo" />
        </div>
        <div class="form-group">
            <input asp-for="User" placeholder="Ingrese el usuario" class="input__text" id="User" />
        </div>
        <div class="form-group">
            <input asp-for="Password" placeholder="Ingrese el Password" class="input__text" id="Pass" />
        </div>
        <div class="form-group">
            <select asp-for="IdRol" id="cboRol" class="input__text">
                <option value="" >--Seleccione el Rol--</option>
            </select>
        </div>
        <div class="btn__group">
            <input type="submit" name="Crear" value="Guardar" class="btn btn__primary" />
            <a class="btn btn__danger" asp-action="Index">Cancelar</a>
        </div>
    </form>
</div>

@section scripts {

    <script type="text/javascript">

    $(document).ready(function () {

        CargarCombo();

    });

    function CargarCombo() {

        $.ajax({

            type: "GET",
            url: "@Url.Action("ObtenerRol","Usuario")",
            dataType: "json",
            success: function (data) {
                $.each(data, function (key, registro) {
                    $("#cboRol").append('<option value='+registro.id+'>'+registro.nombre+'</option>')
                });
            }
        });
    }
    </script>

}